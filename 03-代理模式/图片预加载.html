<style>
  img {
    width: 50px;
    height: 50px;
  }
</style>
<body></body>
<script>
  // 创建图片并添加到 dom
  const myImage = (function () {
    const imgNode = document.createElement("img");
    document.body.appendChild(imgNode);
    return {
      setSrc: src => {
        imgNode.src = src;
      },
    };
  })();

  // 代理对象，负责预加载
  const proxyImage = (function () {
    const img = new Image();
    img.onload = () => {
      myImage.setSrc(img.src);
    };
    return {
      setSrc: src => {
        console.log(111);
        myImage.setSrc("./loading.gif");
        img.src = src;
      },
    };
  })();
  proxyImage.setSrc(
    "https://ts1.cn.mm.bing.net/th?id=OIP-C.aBZtnPTfuqMAFSpyZg0-vQHaGH"
  );
</script>
